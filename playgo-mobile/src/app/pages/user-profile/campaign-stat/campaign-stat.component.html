<p></p>
<ion-card>
  <ion-card-header [color]="campaign.type">
    {{ campaign.name | languageMap }}
  </ion-card-header>
  <ion-card-content>
    <ion-grid>
      <ion-row class="border">
        <ion-col size="2">
          <app-icon name="leaderboard" class="icon-size-big"></app-icon>
        </ion-col>
        <ion-col>
          <div class="result">
            <div>
              {{
                "userprofile.last_week_position"
                  | translate: { position: (reportWeek$ | async)?.position }
              }}
            </div>
            <div>
              {{
                "userprofile.general_position"
                  | translate: { position: (reportTotal$ | async)?.position }
              }}
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <div>
      <ion-grid>
        <ion-row class="border">
          <ion-col size="2">
            <app-icon
              class="icon-size-big"
              [name]="campaignService.getCampaignTypeIcon(campaign)"
            ></app-icon>
          </ion-col>
          <ion-col>
            <div class="result">
              {{
                "userprofile.total_points"
                  | translate: { points: (reportTotal$ | async)?.value }
              }}
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div>
      <ion-grid>
        <ion-row>
          <ion-col size="2">
            <app-icon class="icon-size-big" name="default"></app-icon>
          </ion-col>
          <ion-col>
            <div class="result">
              <div *ngFor="let challengeType of challengeStat$ | async">
                <div>
                  <app-icon
                    [name]="imgChallenge(challengeType)"
                    class="challenge-icon icon-size-normal"
                  ></app-icon>
                  {{ challengeType.completed + challengeType.failed }}
                  {{ typeChallenge(challengeType.type) }}:
                  <b>{{
                    "userprofile.won"
                      | translate: { won: challengeType.completed }
                  }}</b>
                </div>
              </div>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div *ngIf="blacklisted$; else addblacklist">
      <ion-button>{{ "userprofile.remove_blacklist" | translate }}</ion-button>
    </div>
    <ng-template #addblacklist>
      <ion-button>{{ "userprofile.add_blacklist" | translate }}</ion-button>
    </ng-template>
  </ion-card-content>
</ion-card>
